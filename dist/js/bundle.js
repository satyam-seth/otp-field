!function e(t,n,o){function u(r,a){if(!n[r]){if(!t[r]){var s="function"==typeof require&&require;if(!a&&s)return s(r,!0);if(i)return i(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[r]={exports:{}};t[r][0].call(c.exports,(function(e){return u(t[r][1][e]||e)}),c,c.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<o.length;r++)u(o[r]);return u}({1:[function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("../utils/types"),i=e("../utils/regex"),r=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fieldValue="",t.boxCount<=0)throw new Error("Invalid config box count must be grater than zero.");this.config=t}return o(e,[{key:"skeleton",value:function(){var e=document.createElement("div");e.id=this.id,e.className="otp-field";for(var t=0;t<this.config.boxCount;t++)e.appendChild(this.getBoxElement(t));return e}},{key:"getBoxElement",value:function(e){var t=document.createElement("input");return t.id=this.getBoxId(e),t.type="text",t.maxLength=1,t.autocomplete="off",t.setAttribute("data-index",e.toString()),t.addEventListener("input",this.onBoxInput.bind(this)),t.addEventListener("keydown",this.onBoxKeyDown.bind(this)),t.addEventListener("focus",this.onBoxFocus.bind(this)),t.addEventListener("paste",this.onBoxPaste.bind(this)),t}},{key:"focus",value:function(){for(var e=this.config.boxCount-1,t=0;t<this.config.boxCount;t++)if(""===this.getBoxValue(t)){e=t;break}this.focusBox(e)}},{key:"clear",value:function(){for(var e=0;e<this.config.boxCount;e++)this.setBoxValue(e,"");this.fieldValue="",this.focusBox(0)}},{key:"destroy",value:function(){this.element.remove()}},{key:"build",value:function(e){e.appendChild(this.skeleton())}},{key:"getOtpRegex",value:function(){var e;return this.config.customRegex?this.config.customRegex:(0,i.getOTPRegexForValueType)(null!==(e=this.config.valueType)&&void 0!==e?e:u.OTPValueType.NUMERIC)}},{key:"applyRegex",value:function(e){return e.replace(this.getOtpRegex(),"")}},{key:"getBoxId",value:function(e){return this.config.namespace+"-box-"+e}},{key:"getBoxAtIndex",value:function(e){var t=this.getBoxId(e),n=document.getElementById(t);if(null===n)throw new Error("Unable to get box at index "+e);return n}},{key:"getBoxIndex",value:function(e){var t=e.getAttribute("data-index");if(t)return parseInt(t,10);throw new Error("Unable to get `data-index` attribute for box")}},{key:"updateValue",value:function(){for(var e="",t=0;t<this.config.boxCount;t++)e+=this.getBoxValue(t);this.fieldValue=e}},{key:"focusBox",value:function(e){this.getBoxAtIndex(e).focus()}},{key:"focusNextBox",value:function(e){var t=this.getBoxIndex(e);t+1<this.config.boxCount&&this.focusBox(t+1)}},{key:"focusPrevBox",value:function(e){var t=this.getBoxIndex(e);t-1>=0&&this.focusBox(t-1)}},{key:"setBoxValue",value:function(e,t){this.getBoxAtIndex(e).value=t}},{key:"getBoxValue",value:function(e){return this.getBoxAtIndex(e).value}},{key:"onBoxPaste",value:function(e){e.preventDefault();for(var t=e.clipboardData.getData("text"),n=this.applyRegex(t),o=this.getBoxIndex(e.target),u=Math.min(this.config.boxCount-o,n.length),i=0;i<u;i++)this.setBoxValue(o+i,n[i]);!0===this.config.onPasteBlur||void 0===this.config.onPasteBlur?e.target.blur():this.focusBox(o+u-1),this.updateValue()}},{key:"onBoxFocus",value:function(e){1===e.target.value.length&&(e.target.selectionStart=0,e.target.selectionEnd=1)}},{key:"onBoxKeyDown",value:function(e){"ArrowLeft"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),this.focusPrevBox(e.target)),"ArrowRight"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),this.focusNextBox(e.target)),"Backspace"!==e.key||""!==e.target.value&&0!==e.target.selectionEnd||this.focusPrevBox(e.target),"Delete"===e.key&&(""===e.target.value||0!==e.target.selectionStart&&1===e.target.selectionEnd)&&this.focusNextBox(e.target)}},{key:"onBoxInput",value:function(e){var t=this.applyRegex(e.target.value);e.target.value=t,""!==e.target.value&&this.focusNextBox(e.target),this.updateValue()}},{key:"value",get:function(){return this.fieldValue}},{key:"id",get:function(){return"otp-field-"+this.config.namespace}},{key:"element",get:function(){var e=document.getElementById(this.id);if(null===e)throw new Error("Element with ID "+this.id+" not found in the DOM.");return e}}]),e}();n.default=r},{"../utils/regex":3,"../utils/types":4}],2:[function(e,t,n){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=o(e("./components/field"));window.onload=function(){new u.default({namespace:"example",boxCount:3}).build(document.body)}},{"./components/field":1}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getOTPRegexForValueType=function(e){switch(e){case o.OTPValueType.NUMERIC:return/[^0-9]/g;case o.OTPValueType.ALPHABETIC:return/[^A-Za-z]/g;case o.OTPValueType.ALPHABETIC_LOWER:return/[^a-z]/g;case o.OTPValueType.ALPHABETIC_UPPER:return/[^A-Z]/g;case o.OTPValueType.ALPHANUMERIC:return/[^A-Za-z0-9]/g;case o.OTPValueType.ALPHANUMERIC_LOWER:return/[^a-z0-9]/g;case o.OTPValueType.ALPHANUMERIC_UPPER:return/[^A-Za-z0-9]/g;default:throw new Error("Invalid OTP field value type")}};var o=e("./types")},{"./types":4}],4:[function(e,t,n){"use strict";var o;Object.defineProperty(n,"__esModule",{value:!0}),n.OTPValueType=void 0,function(e){e[e.NUMERIC=0]="NUMERIC",e[e.ALPHABETIC=1]="ALPHABETIC",e[e.ALPHABETIC_LOWER=2]="ALPHABETIC_LOWER",e[e.ALPHABETIC_UPPER=3]="ALPHABETIC_UPPER",e[e.ALPHANUMERIC=4]="ALPHANUMERIC",e[e.ALPHANUMERIC_LOWER=5]="ALPHANUMERIC_LOWER",e[e.ALPHANUMERIC_UPPER=6]="ALPHANUMERIC_UPPER"}(o||(n.OTPValueType=o={}))},{}]},{},[2]);
//# sourceMappingURL=maps/bundle.js.map
