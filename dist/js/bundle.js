!function e(t,n,o){function a(i,r){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!r&&l)return l(i,!0);if(u)return u(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[i]={exports:{}};t[i][0].call(c.exports,(function(e){return a(t[i][1][e]||e)}),c,c.exports,e,t,n,o)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}({1:[function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=a(e("../utils/logger")),i=e("./types"),r=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fieldValue="",t.boxCount<=0)throw new Error("Invalid config box count must be grater than zero.");this.config=t,setInterval((function(){u.default.instance.info("value =>>> ",n.fieldValue)}),1e3)}return o(e,[{key:"getOTPRegexForValueType",value:function(e){switch(e){case i.OTPValueType.NUMERIC:return/[^0-9]/g;case i.OTPValueType.ALPHABETIC:return/[^A-Za-z]/g;case i.OTPValueType.ALPHABETIC_LOWER:return/[^a-z]/g;case i.OTPValueType.ALPHABETIC_UPPER:return/[^A-Z]/g;case i.OTPValueType.ALPHANUMERIC:return/[^A-Za-z0-9]/g;case i.OTPValueType.ALPHANUMERIC_LOWER:return/[^a-z0-9]/g;case i.OTPValueType.ALPHANUMERIC_UPPER:return/[^A-Za-z0-9]/g;default:throw new Error("Invalid OTP field value type")}}},{key:"getOtpRegex",value:function(){var e;return this.config.customRegex?this.config.customRegex:this.getOTPRegexForValueType(null!==(e=this.config.valueType)&&void 0!==e?e:i.OTPValueType.NUMERIC)}},{key:"applyRegex",value:function(e){return e.replace(this.getOtpRegex(),"")}},{key:"focus",value:function(){for(var e=this.config.boxCount-1,t=0;t<this.config.boxCount;t++)if(""===this.getBoxValue(t)){e=t;break}this.focusBox(e)}},{key:"clear",value:function(){for(var e=0;e<this.config.boxCount;e++)this.setBoxValue(e,"");this.fieldValue="",this.focusBox(0)}},{key:"value",get:function(){return this.fieldValue}}]),o(e,[{key:"skeleton",value:function(){var e=document.createElement("div");e.id=this.id,e.className="otp-field";for(var t=0;t<this.config.boxCount;t++)e.appendChild(this.getBox(t));return e}},{key:"getBoxId",value:function(e){return this.config.namespace+"-box-"+e}},{key:"getBoxIndex",value:function(e){var t=e.getAttribute("data-index");if(t)return parseInt(t,10);throw u.default.instance.log("box",e),new Error("Unable to get `data-index` attribute for box")}},{key:"getBox",value:function(e){var t=document.createElement("input");return t.id=this.getBoxId(e),t.type="text",t.maxLength=1,t.autocomplete="off",t.setAttribute("data-index",e.toString()),t.addEventListener("input",this.onBoxInput.bind(this)),t.addEventListener("keydown",this.onBoxKeyDown.bind(this)),t.addEventListener("focus",this.onBoxFocus.bind(this)),t.addEventListener("paste",this.onBoxPaste.bind(this)),t}},{key:"onBoxPaste",value:function(e){e.preventDefault();var t=e.clipboardData.getData("text"),n=this.applyRegex(t);u.default.instance.log("pasted value",n);var o=this.getBoxIndex(e.target);u.default.instance.log("Current box index",o);var a=Math.min(this.config.boxCount-o,n.length);u.default.instance.log("maxLength",a);for(var i=0;i<a;i++)this.setBoxValue(o+i,n[i]);u.default.instance.info("config.onPasteBlur",this.config.onPasteBlur),!0===this.config.onPasteBlur||void 0===this.config.onPasteBlur?(u.default.instance.info("Blur box"),e.target.blur()):(u.default.instance.info("Focus box"),this.focusBox(o+a-1)),this.updateValue()}},{key:"updateValue",value:function(){for(var e="",t=0;t<this.config.boxCount;t++)e+=this.getBoxValue(t);u.default.instance.log("value",this.fieldValue,"new value",e),this.fieldValue=e}},{key:"onBoxFocus",value:function(e){u.default.instance.info("focus",e),1===e.target.value.length&&(u.default.instance.log("Select all value for current box, as value of current box not empty",e.target.value),e.target.selectionStart=0,e.target.selectionEnd=1)}},{key:"onBoxKeyDown",value:function(e){u.default.instance.log("keydown",e),"ArrowLeft"!==e.key&&"ArrowUp"!==e.key||(u.default.instance.info("Key:ArrowLeft-ArrowUp move focus to prev box"),e.preventDefault(),this.focusPrevBox(e.target)),"ArrowRight"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),u.default.instance.info("Key:ArrowRight-ArrowUp move focus to next box"),this.focusNextBox(e.target)),"Backspace"!==e.key||""!==e.target.value&&0!==e.target.selectionEnd||(u.default.instance.log("Key:Backspace move focus to prev box"),this.focusPrevBox(e.target)),"Delete"===e.key&&(""===e.target.value||0!==e.target.selectionStart&&1===e.target.selectionEnd)&&(u.default.instance.log("Key:Delete move focus to next box"),this.focusNextBox(e.target))}},{key:"onBoxInput",value:function(e){u.default.instance.info("input",e),u.default.instance.log("Entered Value",e.target.value);var t=this.applyRegex(e.target.value);u.default.instance.log("updatedValue Value",t),e.target.value=t,u.default.instance.log("Value updated",t),""!==e.target.value&&(u.default.instance.info("target box value is not empty move focus to next box"),this.focusNextBox(e.target)),this.updateValue()}},{key:"focusNextBox",value:function(e){var t=this.getBoxIndex(e);u.default.instance.info("currentBoxIndex",t),u.default.instance.log("config boxCount",this.config.boxCount),u.default.instance.log("we need to jump to next box",t+1<this.config.boxCount),t+1<this.config.boxCount&&(u.default.instance.log("Focusing to next box at index",t+1),this.focusBox(t+1))}},{key:"focusPrevBox",value:function(e){var t=this.getBoxIndex(e);u.default.instance.info("currentBoxIndex",t),u.default.instance.log("we need to jump to prev box",t-1>=0),t-1>=0&&(u.default.instance.log("Focusing to next box at index",t+1),this.focusBox(t-1))}},{key:"focusBox",value:function(e){var t=this.getBoxAtIndex(e);u.default.instance.info("Focusing to Box",t),t.focus()}},{key:"setBoxValue",value:function(e,t){u.default.instance.log("Setting box at index "+e+" value to "+t),this.getBoxAtIndex(e).value=t}},{key:"getBoxValue",value:function(e){return u.default.instance.log("Getting box at index "+e+" value"),this.getBoxAtIndex(e).value}},{key:"getBoxAtIndex",value:function(e){var t=this.getBoxId(e),n=document.getElementById(t);if(null===n)throw new Error("Unable to get box at index "+e);return n}},{key:"destroy",value:function(){this.element.remove()}},{key:"build",value:function(e){e.appendChild(this.skeleton())}},{key:"id",get:function(){return"otp-field-"+this.config.namespace}},{key:"element",get:function(){return document.getElementById(this.id)}}]),e}();n.default=r},{"../utils/logger":4,"./types":2}],2:[function(e,t,n){"use strict";var o;Object.defineProperty(n,"__esModule",{value:!0}),n.OTPValueType=void 0,function(e){e[e.NUMERIC=0]="NUMERIC",e[e.ALPHABETIC=1]="ALPHABETIC",e[e.ALPHABETIC_LOWER=2]="ALPHABETIC_LOWER",e[e.ALPHABETIC_UPPER=3]="ALPHABETIC_UPPER",e[e.ALPHANUMERIC=4]="ALPHANUMERIC",e[e.ALPHANUMERIC_LOWER=5]="ALPHANUMERIC_LOWER",e[e.ALPHANUMERIC_UPPER=6]="ALPHANUMERIC_UPPER"}(o||(n.OTPValueType=o={}))},{}],3:[function(e,t,n){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("./components/field"));window.onload=function(){new a.default({namespace:"example",boxCount:6}).build(document.body)}},{"./components/field":1}],4:[function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logLevels=["log","info","warn","error"],this.logLevel="log"}return o(e,[{key:"setLevel",value:function(e){this.logLevel=e}},{key:"getTimestamp",value:function(){return(new Date).toISOString()}},{key:"shouldLog",value:function(e){var t=this.logLevels.indexOf(this.logLevel);return this.logLevels.indexOf(e)>=t}},{key:"log",value:function(){if(this.shouldLog("log")){for(var e,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=console).log.apply(e,["%cLOG:","color: white; background-color: #405d27","["+this.getTimestamp()+"]"].concat(n))}}},{key:"error",value:function(){if(this.shouldLog("error")){for(var e,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=console).error.apply(e,["%cERROR:","color: white; background-color: #c94c4c","["+this.getTimestamp()+"]"].concat(n))}}},{key:"warn",value:function(){if(this.shouldLog("warn")){for(var e,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=console).warn.apply(e,["%cWARNING:","color: black; background-color: #feb236","["+this.getTimestamp()+"]"].concat(n))}}},{key:"info",value:function(){if(this.shouldLog("info")){for(var e,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=console).info.apply(e,["%cINFO:","color: white; background-color: #4040a1","["+this.getTimestamp()+"]"].concat(n))}}}],[{key:"instance",get:function(){return void 0===e._instance&&(e._instance=new e),e._instance}}]),e}();n.default=a},{}]},{},[3]);
//# sourceMappingURL=maps/bundle.js.map
